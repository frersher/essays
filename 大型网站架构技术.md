# 大型网站架构技术

真正解决问题的技术一定是简单的！！！



###网站架构模式

#### 分层

* 将系统横向分成不同的部分，便于分开合作开发，只要接口不变，各层可以对立的做出调整
* 但是分层需要合理的规划层次边界和接口，禁止跨层调用

#### 分割

* 将系统纵向拆分，将不同的业务进行分割

#### 分布式

* 分布式应用和服务
* 分布式静态资源
* 分布式数据和存储
* 分布式计算

#### 集群

* 多个服务器上部署相同的应用

#### 缓存

* CDN：内容分发网络，部署在距离终端用户最近的	网络服务商，可以就近最快的速度返回给用户
* 反向代理：属于网站前段架构，用户请求数据中心，先请求代理服务器，静态资源可以放在这里
* 本地缓存：缓存热点数据
* 分布式缓存

#### 异步

* 提高系统可用性：发生故障，消息存在队列中，故障恢复继续消费消息
* 加快响应速度：生产中处理完成后将请求写入队列，无需等待消费者完成就可以返回
* 消除并发访问的高峰：将突然增加的请求数据放入队列中，减少对网站造成的压力

#### 冗余：

* 数据冗余备份





### 网站核心架构要素

#### 性能

影响用户请求的所有环节都可以优化

* 浏览器：通过缓存、页面压缩；还可以使用CDN，将静态内容发送到最近的服务机房，加快请求速度。
* 服务器端：本地缓存、分布式缓存，缓存内存中的热点数据。请求发送到队列，直接响应给用户，服务器集群
* 数据库：索引、缓存、SQL 优化









